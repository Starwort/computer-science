<!DOCTYPE html>
<html>

<head>
    <!-- make markdown look nicer -->
    <style>
        code {
            background-color: rgba(27, 31, 35, .05);
            border-radius: 3px;
            font-size: 85%;
            margin: 0;
            padding: .2em .4em;
        }

        pre code {
            background-color: rgba(27, 31, 35, .05);
            border: 0;
            display: block;
            line-height: inherit;
            margin: 0;
            max-width: auto;
            overflow: scroll;
            padding: 0;
            word-wrap: normal;
        }
    </style>
</head>
<body><style>
    ol ul {
        list-style-type: lower-roman;
    }
</style>
<h1 id="tasks">Tasks</h1>
<ol style="list-style-type: decimal">
<li><code>&lt;h1&gt;Exam Entry Form&lt;/h1&gt;</code> and all elements after it are displayed in the browser as they are displayed elements. Tables are being used to align the elements (how 1993); additionally, the <code>&lt;title&gt;Exam entry&lt;/title&gt;</code> tag in the header tells the browser the title of the webpage ('Exam entry')</li>
<li>The submit button calls <code>validateForm()</code> to determine whether or not the form may be submitted - if it returns <code>true</code> then the form gets submitted, else it is disallowed. <code>validateForm()</code> performs the following actions:
<ul>
<li>Check that <code>document.ExamEntry.name</code> (the 'name' input box) is not empty - and if it is, to recolour the label red and focus the input box for input</li>
<li>Check that <code>document.ExamEntry.subject</code> (the 'subject' input box) is not empty - and if it is, to recolour the label red and focus the input box for input</li>
<li>If either of the two checks failed, alert the user as to what went wrong - and prevent form submission; else, allow the form to be submitted</li>
</ul></li>
<li>When the 'Submit' button is clicked, its <code>onclick</code> attribute is evaluated to determine whether the form may be submitted; a return value of <code>true</code> (or any equivalent value due to type coercion) allows the form to be submitted while a value of <code>false</code> (oe) prevents it.</li>
<li><ul>
<li><pre><code>// HTML //
SPAN
    LABEL[ID=&quot;elabel&quot; FOR=&quot;examNo&quot;]
        Examination number
    END LABEL
    INPUT[NAME=&quot;examNo&quot; TYPE=&quot;number&quot; ID=&quot;examNo&quot;]
END SPAN</code></pre></li>
<li><pre><code>// SCRIPT //
CALL registerValidateEmpty WITH (CALL document.getElementById WITH &quot;examNo&quot;), document.ExamEntry.examNo, &quot;your examination number&quot;</code></pre></li>
<li><pre><code>// SCRIPT //
CALL registerValidateLen WITH (CALL document.getElementById WITH &quot;examNo&quot;), document.ExamEntry.examNo, &quot;your examination number&quot;, 4</code></pre></li>
</ul></li>
<li><pre><code>// HTML //
SPAN
    LABEL[ID=&quot;llabel&quot;]
        Qualification level
    END LABEL
    BREAK
    LABEL[FOR=&quot;gcse&quot;]
        GCSE
    END LABEL
    INPUT[ID=&quot;gcse&quot; NAME=&quot;level&quot; TYPE=&quot;radio&quot; VALUE=&quot;GCSE&quot;]
    LABEL[FOR=&quot;as&quot;]
        AS
    END LABEL
    INPUT[ID=&quot;as&quot; NAME=&quot;level&quot; TYPE=&quot;radio&quot; VALUE=&quot;AS&quot;]
    LABEL[FOR=&quot;a2&quot;]
        A2
    END LABEL
    INPUT[ID=&quot;a2&quot; NAME=&quot;level&quot; TYPE=&quot;radio&quot; VALUE=&quot;A2&quot;]
END SPAN
// SCRIPT //
CALL registerCustomHook WITH ANONF &lt;- ARRAY msg, ARRAY timeoutFuncs -&gt; BOOL AS
    IF document.ExamEntry.level.value DO
        SET rv TO CALL confirm WITH &quot;Did you select &quot;+document.ExamEntry.level.value+&quot; level?&quot;
        IF rv == FALSE DO
            SET msg[0] TO msg[0] + &quot;Select your qualification level\n&quot;;
            SET (CALL document.getElementById WITH &quot;llabel&quot;).style.color TO &quot;red&quot;
            timeoutFuncs.append(ANONP AS SET (CALL document.getElementById WITH &quot;llabel&quot;).style.color TO &quot;black&quot;)
        END IF
    ELSE DO
        SET msg[0] TO msg[0] + &quot;You must select a qualification level\n&quot;;
        SET (CALL document.getElementById WITH &quot;llabel&quot;).style.color TO &quot;red&quot;
        timeoutFuncs.append(ANONP AS SET (CALL document.getElementById WITH &quot;llabel&quot;).style.color TO &quot;black&quot;)
        SET rv TO FALSE
    END IF
RETURN rv</code></pre></li>
<li>My solutions are fit for purpose and allow for good styling. They allow for easy expansion of the webpage to incorporate more forms and checks; easy 'empty' and 'length' checks or more powerful custom hooks using user javascript</li>
<li>JavaScript validation routines are very effective at reducing the number of errors that are made in data input, as they entirely prevent the submission of data without all data being valid</li>
</ol>
Webpage:
<script>
    var validateEmptyElems = [];
    var validateLenElems = [];
    var customHooks = [];
    function registerValidateEmpty(nameElem, formElem, elemName) {
        validateEmptyElems.push({ 'nameElem': nameElem, 'formElem': formElem, 'elemName': elemName });
    }
    function registerValidateLen(nameElem, formElem, elemName, len) {
        validateLenElems.push({ 'nameElem': nameElem, 'formElem': formElem, 'elemName': elemName, 'len': len });
    }
    function registerCustomHook(hook) {
        customHooks.push(hook);
    }
    function validate() {
        // alert();
        var result = true;
        var msg = '';
        // console.log(validateEmptyElems);
        // alert(validateEmptyElems);
        var timeoutFuncs = [];
        validateEmptyElems.forEach(obj => {
            if (!obj.formElem.value) {
                msg += `You must enter ${obj.elemName}\n`;
                obj.nameElem.style.color = "red";
                timeoutFuncs.push(() => {
                    obj.nameElem.style.color = "black";
                });
                obj.formElem.focus();
                result = false;
            }
        });
        validateLenElems.forEach(obj => {
            if (obj.formElem.value.length != obj.len) {
                msg += `You must enter a value of length ${obj.len} for ${obj.elemName}; you entered a value of length ${obj.formElem.value.length}\n`;
                obj.nameElem.style.color = "red";
                timeoutFuncs.push(() => {
                    obj.nameElem.style.color = "black";
                });
                obj.formElem.focus();
                result = false;
            }
        });
        customHooks.forEach(fn => {
            var tmp = [msg];
            result = fn(tmp, timeoutFuncs) && result;
            msg = tmp[0];
        });
        if (!!msg) {
            alert(msg);
        }
        timeoutFuncs.forEach((func) => {
            setTimeout(func, 5000);
        })
        return result;
    }
</script>
<style>
    form {
        /* margin: 0 auto; */
        width: 75%;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
    }
    label {
        text-align: left;
    }
</style>
<h1 style="text-align: center;">
Exam Entry Form
</h1>
<form name="ExamEntry" method="post" action="success.html">
<span> <label id="nlabel" for="name">Name</label> <input id="name" type="text" name="name" /><br> </span> <span> <label id="slabel" for="subject">Subject</label> <input id="subject" type="text" name="subject" /><br> </span> <span> <label id="elabel" for="examNo">Examination number</label> <input id="examNo" type="number" name="examNo" /><br> </span> <span> <label id="llabel">Qualification level</label><br> <label for="gcse">GCSE</label> <input id="gcse" name="level" type="radio" value="GCSE" /> <label for="as">AS</label> <input id="as" name="level" type="radio" value="AS" /> <label for="a2">A2</label> <input id="a2" name="level" type="radio" value="A2" /><br> </span> <span> <input type="submit" value="Submit" name="Submit" onclick="return validate();" /> <input type="reset" value="Reset" name="Reset" /> </span>
</form>
<script>
    registerValidateEmpty(document.getElementById("nlabel"), document.ExamEntry.name, "your name");
    registerValidateEmpty(document.getElementById("slabel"), document.ExamEntry.subject, "your chosen subject");
    registerValidateEmpty(document.getElementById("elabel"), document.ExamEntry.examNo, "your examination number");
    registerValidateLen(document.getElementById("elabel"), document.ExamEntry.examNo, "your examination number", 4);
    registerCustomHook((msg, timeoutFuncs) => {
        if (document.ExamEntry.level.value) {
            var rv = confirm(`Did you select ${document.ExamEntry.level.value} level?`);
            if (!rv) {
                msg[0] += "Select your qualification level\n";
                document.getElementById("llabel").style.color = "red";
                timeoutFuncs.push(() => {
                    document.getElementById("llabel").style.color = "black";
                });
            }
            return rv;
        }
        document.getElementById("llabel").style.color = "red";
        timeoutFuncs.push(() => {
            document.getElementById("llabel").style.color = "black";
        });
        msg[0] += "You must select a qualification level\n";
        return false;
    });
</script>
</body>
</html>
